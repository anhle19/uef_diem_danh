<div class="d-flex flex-column flex-shrink-0 sidebar-custom">
    <img src="@Url.Content("~/student_pictures/logo.png")" alt="logo" width="100" height="100" style="display: block; margin: 0 auto;">
    <div class="pt-3">
        <ul class="nav nav-pills flex-column mb-auto px-2">
    
            @{
                if (User.IsInRole("Admin"))
                {
                    <li class="nav-item">
                        <a href="/" class="nav-link-custom">
                            <i class="bi bi-speedometer2 me-2"></i> Trang chủ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/nhan-vien" class="nav-link-custom">
                            <i class="bi bi-person-vcard me-2"></i> Nhân viên
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/quan-ly-danh-sach-lop-hoc" class="nav-link-custom">
                            <i class="bi bi-easel2 me-2"></i> Lớp học
                        </a>
                    </li>
                    <li>
                        <a href="/hoc-vien" class="nav-link-custom">
                            <i class="bi bi-person-fill me-2"></i> Học viên
                        </a>
                    </li>
                    <li>
                        <a href="/quan-ly-dien-danh" class="nav-link-custom">
                            <i class="bi bi-graph-up-arrow me-2"></i> Điểm danh
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/quan-ly-danh-sach-su-kien" class="nav-link-custom">
                            <i class="bi bi-calendar-event me-2"></i> Sự kiện
                        </a>
                    </li>
                }else if(User.IsInRole("Staff")){
                    <li class="nav-item">
                        <a href="/quan-ly-danh-sach-lop-hoc" class="nav-link-custom">
                            <i class="bi bi-easel2 me-2"></i> Lớp học
                        </a>
                    </li>
                }
            }

            <li>
                <a href="/ho-tro-ky-thuat" class="nav-link-custom">
                    <i class="bi bi-graph-up-arrow me-2"></i> Hỗ trợ kỹ thuật
                </a>
            </li>
        </ul>
    </div>

    <div class="dropdown mt-auto pt-3 text-end">
        <a href="#"
            class="btn btn-dark"
            id="settingDropdown"
            data-bs-toggle="dropdown"
            aria-expanded="false">
            <i class="bi bi-gear-fill fs-5"></i>
        </a>

        <!-- Menu dropdown -->
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="settingDropdown">
            <li>
                <div class="dropdown-item" data-bs-toggle="modal" data-bs-target="#popupDoiMatKhau">
                    <i class="bi bi-key me-2"></i> Đổi mật khẩu
                </div>
            </li>
            <li>
                <form id="logoutForm" action="@Url.Action("Logout", "Auth")" method="post">
                    <button type="submit" class="dropdown-item text-danger">
                        <i class="bi bi-box-arrow-right me-2"></i> Đăng xuất
                    </button>
                </form>
            </li>
        </ul>
    </div>
</div>


<!-- Modal Đổi Mật Khẩu -->
<div class="modal fade"
     id="popupDoiMatKhau"
     tabindex="-1"
     aria-labelledby="popupDoiMatKhauLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <!-- Header -->
            <div class="modal-header">
                <h5 class="modal-title" id="popupDoiMatKhauLabel">Đổi mật khẩu</h5>
                <button type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Đóng"></button>
            </div>

            <!-- Body -->
            <div class="modal-body">
                <form method="POST" action=@Url.Action("ChangePassword", "Auth") id="changePasswordForm">
                    <input type="password"
                           id="matKhauCu"
                           name="OldPassword"
                           class="form-control mb-3"
                           placeholder="Mật khẩu hiện tại" />

                    <input type="password"
                           id="matKhauMoi"
                           name="NewPassword"
                           class="form-control mb-3"
                           placeholder="Mật khẩu mới" />

                    <input type="password"
                           id="xacNhanMatKhauMoi"
                           name="ConfirmPassword"
                           class="form-control"
                           placeholder="Xác nhận mật khẩu mới" />

                </form>

            </div>

            <!-- Footer -->
            <div class="modal-footer">
                <button type="button" class="btn-next-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="submit" class="btn-next-primary" id="btnLuuMatKhau" form="changePasswordForm">Lưu thay đổi</button>
            </div>
        </div>
    </div>
</div>